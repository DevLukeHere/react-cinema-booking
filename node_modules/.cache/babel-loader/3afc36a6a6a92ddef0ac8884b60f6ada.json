{"ast":null,"code":"import _slicedToArray from \"/Users/luke/Desktop/personal-projects/lukewzk-20220629/react-cinema-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/luke/Desktop/personal-projects/lukewzk-20220629/react-cinema-app/src/components/Home.js\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Navbar from \"./Navbar\";\nimport { Typography, Toolbar, Container, Grid } from \"@mui/material\";\nimport MovieCard from \"./MovieCard\";\nexport default function Home() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      movies = _useState2[0],\n      setMovies = _useState2[1];\n\n  var _useState3 = useState(1),\n      _useState4 = _slicedToArray(_useState3, 2),\n      page = _useState4[0],\n      setPage = _useState4[1];\n\n  var loadMoreMovies = function loadMoreMovies() {\n    axios.get(\"http://api.themoviedb.org/3/discover/movie?api_key=328c283cd27bd1877d9080ccb1604c91&sort_by=release_date.desc&include_adult=false&page=\".concat(page, \"&primary_release_year=2021&language=en-US&region=us\")).then(function (res) {\n      var movies = res.data.results;\n      setMovies(movies);\n    });\n  };\n\n  useEffect(function () {\n    loadMoreMovies();\n  }, [page]);\n\n  var scrollToEnd = function scrollToEnd() {\n    setPage(page + 1);\n  };\n\n  console.log(\"page:\", page);\n\n  window.onscroll = function () {\n    if (window.innerHeight + document.documentElement.scrollTop === document.documentElement.offsetHeight) {\n      scrollToEnd();\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      background: \"black\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Toolbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h5\",\n    style: {\n      color: \"#ffffff\",\n      margin: \"1rem 0\",\n      textAlign: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, \"Movie Listings\"), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(MovieCard, {\n    movies: movies,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }))));\n}","map":{"version":3,"names":["React","useState","useEffect","axios","Navbar","Typography","Toolbar","Container","Grid","MovieCard","Home","movies","setMovies","page","setPage","loadMoreMovies","get","then","res","data","results","scrollToEnd","console","log","window","onscroll","innerHeight","document","documentElement","scrollTop","offsetHeight","background","color","margin","textAlign"],"sources":["/Users/luke/Desktop/personal-projects/lukewzk-20220629/react-cinema-app/src/components/Home.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Navbar from \"./Navbar\";\nimport { Typography, Toolbar, Container, Grid } from \"@mui/material\";\nimport MovieCard from \"./MovieCard\";\n\nexport default function Home() {\n  const [movies, setMovies] = useState([]);\n  const [page, setPage] = useState(1);\n\n  const loadMoreMovies = () => {\n    axios\n      .get(\n        `http://api.themoviedb.org/3/discover/movie?api_key=328c283cd27bd1877d9080ccb1604c91&sort_by=release_date.desc&include_adult=false&page=${page}&primary_release_year=2021&language=en-US&region=us`\n      )\n      .then((res) => {\n        const movies = res.data.results;\n        setMovies(movies);\n      });\n  };\n\n  useEffect(() => {\n    loadMoreMovies();\n  }, [page]);\n\n  const scrollToEnd = () => {\n    setPage(page + 1);\n  };\n\n  console.log(\"page:\", page)\n\n  window.onscroll = function () {\n    if (\n      window.innerHeight + document.documentElement.scrollTop ===\n      document.documentElement.offsetHeight\n    ) {\n      scrollToEnd();\n    }\n  };\n\n  return (\n    <div style={{ background: \"black\" }}>\n      <Navbar />\n      <Toolbar />\n      <Container>\n        <Typography\n          variant=\"h5\"\n          style={{ color: \"#ffffff\", margin: \"1rem 0\", textAlign: \"center\" }}\n        >\n          Movie Listings\n        </Typography>\n        <Grid container spacing={3}>\n          <MovieCard movies={movies} />\n        </Grid>\n      </Container>\n    </div>\n  );\n}\n"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,SAASC,UAAT,EAAqBC,OAArB,EAA8BC,SAA9B,EAAyCC,IAAzC,QAAqD,eAArD;AACA,OAAOC,SAAP,MAAsB,aAAtB;AAEA,eAAe,SAASC,IAAT,GAAgB;EAAA,gBACDT,QAAQ,CAAC,EAAD,CADP;EAAA;EAAA,IACtBU,MADsB;EAAA,IACdC,SADc;;EAAA,iBAELX,QAAQ,CAAC,CAAD,CAFH;EAAA;EAAA,IAEtBY,IAFsB;EAAA,IAEhBC,OAFgB;;EAI7B,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,GAAM;IAC3BZ,KAAK,CACFa,GADH,kJAE8IH,IAF9I,0DAIGI,IAJH,CAIQ,UAACC,GAAD,EAAS;MACb,IAAMP,MAAM,GAAGO,GAAG,CAACC,IAAJ,CAASC,OAAxB;MACAR,SAAS,CAACD,MAAD,CAAT;IACD,CAPH;EAQD,CATD;;EAWAT,SAAS,CAAC,YAAM;IACda,cAAc;EACf,CAFQ,EAEN,CAACF,IAAD,CAFM,CAAT;;EAIA,IAAMQ,WAAW,GAAG,SAAdA,WAAc,GAAM;IACxBP,OAAO,CAACD,IAAI,GAAG,CAAR,CAAP;EACD,CAFD;;EAIAS,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBV,IAArB;;EAEAW,MAAM,CAACC,QAAP,GAAkB,YAAY;IAC5B,IACED,MAAM,CAACE,WAAP,GAAqBC,QAAQ,CAACC,eAAT,CAAyBC,SAA9C,KACAF,QAAQ,CAACC,eAAT,CAAyBE,YAF3B,EAGE;MACAT,WAAW;IACZ;EACF,CAPD;;EASA,oBACE;IAAK,KAAK,EAAE;MAAEU,UAAU,EAAE;IAAd,CAAZ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,MAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADF,eAEE,oBAAC,OAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAFF,eAGE,oBAAC,SAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,UAAD;IACE,OAAO,EAAC,IADV;IAEE,KAAK,EAAE;MAAEC,KAAK,EAAE,SAAT;MAAoBC,MAAM,EAAE,QAA5B;MAAsCC,SAAS,EAAE;IAAjD,CAFT;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,oBADF,eAOE,oBAAC,IAAD;IAAM,SAAS,MAAf;IAAgB,OAAO,EAAE,CAAzB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,SAAD;IAAW,MAAM,EAAEvB,MAAnB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADF,CAPF,CAHF,CADF;AAiBD"},"metadata":{},"sourceType":"module"}